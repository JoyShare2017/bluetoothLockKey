{"version":3,"sources":["webpack:////Users/skin/Documents/HBuilderProjects/SmartLock/main.js","webpack:////Users/skin/Documents/HBuilderProjects/SmartLock/pages/index/index.vue?9e37","webpack:////Users/skin/Documents/HBuilderProjects/SmartLock/pages/index/index.vue?c552","webpack:////Users/skin/Documents/HBuilderProjects/SmartLock/pages/index/index.vue?8510","webpack:////Users/skin/Documents/HBuilderProjects/SmartLock/pages/index/index.vue?70d4","webpack:////Users/skin/Documents/HBuilderProjects/SmartLock/pages/index/index.vue","webpack:////Users/skin/Documents/HBuilderProjects/SmartLock/pages/index/index.vue?d420","webpack:////Users/skin/Documents/HBuilderProjects/SmartLock/pages/index/index.vue?89f7"],"names":["createPage","Page","data","title","bleDeviceList","motto","userInfo","hasUserInfo","canIUse","wx","plugin","myKeys","currentLog","onReady","console","info","onLoad","methods","setData","obj","that","keys","val","Object","forEach","key","split","$data","key2","index","length","$set","initTheKeyPlug","Plugin","requirePlugin","_this","on","JSON","stringify","err","state","log","setTimeout","reconnect","res","errCode","showToast","lockKeyId","push","$forceUpdate","addMyLock","addBluetoothDevice","then","setStorageSync","DNAInfo","adminAuthCode","aesKey","lockMac","s","i","aes","l","a","String","fromCharCode","addRawInfo","catch","mylockMac","getStorageSync","myadminAuthCode","myaesKey","secret","authCode","changeKeyPwd","value","updatePassword","newPassword","currentTarget","dataset","getKeyList","synchronizeKeyList","navigateTo","url","delMyLock","removeBluetoothDevice","validateLockInitialInfo","isSuccess","addDNAInfo","readDNAInfo","openLock","addPwdKey","validStartTime","Date","setHours","Math","floor","getTime","validEndTime","keyGroupId","usageCount","options2","type","keyType","validTimeMode","dayStartTime","dayEndTime","weeks","addKey","enableKey","options","mode","unableKey","deleteKey","eee","theIndex","options3","removeKey","cus","splice","syncRecord","synchronizeLockRecord","offset","limit","getSystemInfo","readSystemInfo","getBroadCast","getBroadcastData","addHotelRoom","hotelId","hotelBuildingId","hotelFloorId","hotelRoomId","hotelSlaveRoomId","hotelAES128","encryptionSector","setRoomInfoForHotel","setHotelInfo","normallyOpenMode","volumeEnable","tongueChoose","backLockChoose","motorDirection","passwordEnable","tongueDetection","lockOpenTime","cardDetectiongSensitivity","passwordSensitivity","bleConnectInterval","setKeyFunction","lowPowerMotorDriverTimeAdd","setSystemInfoForHotel","getRoomInfo","getRoomInfoForHotel","getHotelSysInfo","getSystemInfoForHotel","openBLE","uni","openBluetoothAdapter","success","startBluetoothDevicesDiscovery","onBluetoothDeviceFound","eeeee","devices"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=84f96cde&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Users/skin/Documents/HBuilderProjects/SmartLock/pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=84f96cde&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\ttitle: 'Hellosimda',\n\t\t\tbleDeviceList:[],\n\t\t\t motto: 'Hello World',\n\t\t\t    userInfo: {},\n\t\t\t    hasUserInfo: false,\n\t\t\t    canIUse: wx.canIUse('button.open-type.getUserInfo'),\n\t\t\t    plugin:[],\n\t\t\t    myKeys:[],\n\t\t\t    currentLog:''\n\t\t}\n\t},\n\t\n\tonReady:function(){\n\t    console.info(\"---------onReady -->\");\n\t },\n\t\n\t\n\t  onLoad: function () {\n\t    \n\t  },\n\tmethods: {\n\t\t\n\t\t  //重写setdata\n\t\t  setData:function(obj){    \n\t\t  let that = this;    \n\t\t  let keys = [];    \n\t\t  let val,data;    \n\t\t  Object.keys(obj).forEach(function(key){    \n\t\t   keys = key.split('.');    \n\t\t   val = obj[key];    \n\t\t   data = that.$data;    \n\t\t   keys.forEach(function(key2,index){    \n\t\t       if(index+1 == keys.length){    \n\t\t           that.$set(data,key2,val);    \n\t\t       }else{    \n\t\t           if(!data[key2]){    \n\t\t              that.$set(data,key2,{});    \n\t\t           }    \n\t\t       }    \n\t\t       data = data[key2];    \n\t\t   })    \n\t\t  });    \n\t\t  } ,\n\t\t  \n\t\t  \n\t\t\n\t\t  //初始化插件\n\t\t  initTheKeyPlug:function() {\n\t\t\n\t\t    console.info(\"---------myPlugin initTheKeyPlug -->\");\n\n\t\t     var Plugin = requirePlugin(\"BLELockSDK\");\n\t\t     this.plugin=new Plugin({\n\t\t       // keyGroupId: '903'\n\t\t     });\n\t\t\t \n\t\t\t \n\t\t\t \n\t\t\t \n\t\t     console.info(\"new Plugin\", this.plugin);\n\t\t    //  this.setData({\n\t\t    //   currentLog:'正在初始化,请稍候'\n\t\t    // })\n\t\t \n\t\t    var _this=this;\n\t\t \n\t\t     this.plugin.on('ready',function(plugin){\n\t\t \n\t\t       console.info(\"plugin is on ready\", plugin);\n\t\t       _this.setData({\n\t\t        currentLog:'初始化成功,可以开始添加了'\n\t\t      })\n\t\t     });\n\t\t \n\t\t     // 监听“开锁”事件上报\n\t\t     this.plugin.on(\"report:openLock\", function(data) {\n\t\t       console.info(\"plugin is on opened lock, data is \", data);\n\t\t       this.setData({\n\t\t         currentLog:JSON.stringify(data)\n\t\t       })\n\t\t     });\n\t\t \n\t\t     // 监听“运行错误”事件\n\t\t     this.plugin.on(\"error\", function(err) {\n\t\t       console.info(\"plugin is on error -->\", err);\n\t\t     });\n\t\t\n\t\t     // 监听“d断线”事件\n\t\t     \n\t\t     this.plugin.on(\"close\",function(state){\n\t\t       console.log(\"断线了,重连\");\n\t\t       setTimeout(() => {\n\t\t         //重连操作\n\t\t         _this.reconnect();\n\t\t       }, 3000);\n\t\t     });\n\t\t\n\t\t     //监听添加钥匙\n\t\t     this.plugin.on('addKey', res => {\n\t\t      console.info(\"addKeyaddKeyaddKeyaddKey\", res);\n\t\t      if(res.errCode == '01'){\n\t\t        // 成功\n\t\t        wx.showToast({\n\t\t          title: '已添加钥匙'+res.data.lockKeyId,\n\t\t        })\n\t\t\t\t\n\t\t\t\t_this.myKeys.push(res.data.lockKeyId);\n\t\t        // var _this=this;\n\t\t      // var cus=_this.myKeys;\n\t\t      // cus.push(res.data.lockKeyId);\n\t\t\t  // _this.myKeys=cus;\n\t\t\t  _this.currentLog='已添加钥匙'+res.data.lockKeyId+'时间:9:15-23:15';\n\t\t\t  _this.$forceUpdate();\n\t\t      // _this.setData({\n\t\t      //   myKeys:cus,\n\t\t      //   currentLog:'已添加钥匙'+res.data.lockKeyId+'时间:9:15-23:15'\n\t\t      // })\n\t\t\n\t\t      }else{\n\t\t        // 其他原因\n\t\t      }\n\t\t    })\n\t\t \n\t\t\n\t\t\n\t\t\n\t\t    \n\t\t  },\n\t\t\n\t\t  //添加蓝牙锁\n\t\t  addMyLock:function(){\n\t\t    this.plugin.addBluetoothDevice().then(res => { \n\t\t      console.info(res);\n\t\t      wx.showToast({\n\t\t        title: '已添加',\n\t\t      })\n\t\t\n\t\t      //存储adminauthcode\n\t\t    wx.setStorageSync('adminAuthCode', res.data.DNAInfo.adminAuthCode);\n\t\t    wx.setStorageSync('aesKey', res.data.DNAInfo.aesKey);\n\t\t    wx.setStorageSync('lockMac', res.data.DNAInfo.lockMac);\n\t\t    console.log('存储adminAuthCode'+res.data.DNAInfo.adminAuthCode);\n\t\t\n\t\t    console.log(res.data.DNAInfo);\n\t\t\n\t\t    // 解析密钥\n\t\t    var s = \"\";\n\t\t    for (\n\t\t      var i = 0, aes = res.data.DNAInfo.aesKey, l = aes.length;\n\t\t      i < l;\n\t\t      i = i + 2\n\t\t    ) {\n\t\t      var a = aes[i] + aes[i + 1];\n\t\t\n\t\t      s += String.fromCharCode(`0x${a}`);\n\t\t    }\n\t\t\n\t\t    console.log(\"aesKey ------------>\", s);\n\t\t\n\t\t      \n\t\t\n\t\t      var _this=this;\n\t\t\n\t\t      this.setData({\n\t\t        currentLog:'蓝牙锁已添加,3秒后自动配对'\n\t\t      })\n\t\t\n\t\t     setTimeout(() => {\n\t\t       _this.addRawInfo();\n\t\t     }, 3000);\n\t\t\n\t\t     }).catch(err => { \n\t\t      wx.showToast({\n\t\t        title: '添加错误'+err,\n\t\t      })\n\t\t     })\n\t\t\n\t\t  },\n\t\t\n\t\t\n\t\t\n\t\t  reconnect:function(){\n\t\t    console.info(\"---------重连操作 -->\");\n\t\t    let mylockMac = wx.getStorageSync('lockMac');\n\t\t    let myadminAuthCode = wx.getStorageSync('adminAuthCode');\n\t\t    let myaesKey = wx.getStorageSync('aesKey');\n\t\t    console.log(mylockMac+myadminAuthCode+myaesKey);\n\t\t\n\t\t     // 引入插件\n\t\t     var Plugin = requirePlugin(\"BLELockSDK\");\n\t\t     this.plugin=new Plugin({\n\t\t       lockMac: mylockMac,\n\t\t       secret:myaesKey,\n\t\t       authCode:myadminAuthCode\n\t\t\n\t\t     });\n\t\t     console.info(\"new Plugin\", this.plugin);\n\t\t     this.setData({\n\t\t      currentLog:'15秒后自动重新链接'\n\t\t    })\n\t\t\n\t\t     setTimeout(() => {\n\t\t      this.addMyLock();\n\t\t     }, 13000);\n\t\t  },\n\t\t\n\t\t\n\t\t  //修改钥匙密码\n\t\t  changeKeyPwd:function(value){\n\t\t    this.plugin.updatePassword({\n\t\t      newPassword: \"133133\",\n\t\t      lockKeyId: value.currentTarget.dataset.value,\n\t\t    }).then(res => {\n\t\t      this.setData({\n\t\t        currentLog:'钥匙密码已修改为133133'\n\t\t      })\n\t\t\n\t\t\n\t\t    }).catch(err => {\n\t\t      this.setData({\n\t\t        currentLog:'钥匙密码修改失败'\n\t\t      })\n\t\t\n\t\t\n\t\t    })\n\t\t\n\t\t\n\t\t  },\n\t\t\n\t\t\n\t\t  //同步钥匙列表\n\t\t  getKeyList:function(res){\n\t\t    this.plugin.synchronizeKeyList().then(res => { \n\t\t\n\t\t      this.setData({\n\t\t        currentLog:'同步钥匙列表成功'\n\t\t      })\n\t\t      wx.navigateTo({\n\t\t\t\t  url:'./recordRavInfo?data='+JSON.stringify(res)\n\n\t\t      })\n\t\t\n\t\t    }).catch(err => { \n\t\t      this.setData({\n\t\t        currentLog:'同步钥匙列表失败'\n\t\t      })\n\t\t\n\t\t\n\t\t     })\n\t\t\n\t\t  },\n\t\t\n\t\t\n\t\t\n\t\t  delMyLock:function(){\n\t\t    this.plugin.removeBluetoothDevice().then(res => { \n\t\t      wx.showToast({\n\t\t        title: '已删除',\n\t\t      })\n\t\t      this.setData({\n\t\t        currentLog:'钥匙已删除'\n\t\t      })\n\t\t     }).catch(err => {\n\t\t      wx.showToast({\n\t\t        title: '删除错误'+err,\n\t\t      })\n\t\t     })\n\t\t  },\n\t\t\n\t\t  //获取初始信息\n\t\t  addRawInfo:function(){\n\t\t    console.log('获取初始信息');\n\t\t    this.plugin\n\t\t      .validateLockInitialInfo({\n\t\t        isSuccess: true\n\t\t      })\n\t\t      .then(function(res) {\n\t\t        console.log(\"validateLockInitialInfo res -->\", res);\n\t\t      })\n\t\t      .catch(function(err) {\n\t\t        console.log(\"validateLockInitialInfo err -->\", err);\n\t\t      });\n\t\t  },\n\t\t\n\t\t  //获取dna信息\n\t\t  addDNAInfo:function(){\n\t\t    console.log('获取dna信息');\n\t\t    this.plugin.readDNAInfo().then(res => {\n\t\t      console.log(res);\n\t\t      //存储lockMac\n\t\t    wx.setStorageSync('lockMac', res.data.lockMac);\n\t\t    console.log('存储lockmac'+res.data.lockMac);\n\t\t      wx.navigateTo({\n\t\t       url:'./recordRavInfo?data='+JSON.stringify(res)\n\t\t      })\n\t\t     }).catch(err => { \n\t\t        wx.showToast({\n\t\t          title: '错误了',\n\t\t        })\n\t\t      })\n\t\t\n\t\t  },\n\t\t\n\t\t  //开锁\n\t\t  openLock:function(){\n\t\t    console.log('点击开锁');\n\t\t    this.plugin.openLock().then(res => { \n\t\t      console.log(res); this.setData({\n\t\t        currentLog:'已开锁'\n\t\t      })\n\t\t     }).catch(err => {\n\t\t      console.log(err);\n\t\t      })\n\t\t\n\t\t  },\n\t\t\n\t\t\n\t\t  //添加钥匙\n\t\t  addPwdKey:function(){\n\t\t    // 有效日期\n\t\t      var validStartTime = new Date(\"2018-12-24\");\n\t\t      validStartTime.setHours(9, 12, 15);//九点12分15秒开始有效\n\t\t      validStartTime = Math.floor(validStartTime.getTime() / 1000);\n\t\t\n\t\t      // 结束日期\n\t\t      var validEndTime = new Date(\"2020-12-25\");\n\t\t      validEndTime.setHours(23, 12, 15);//23点12分15秒失效\n\t\t      validEndTime = Math.floor(validEndTime.getTime() / 1000);\n\t\t\n\t\t      var lockKeyId = 0;  // 钥匙ID由设备分配\n\t\t      var keyGroupId = 901;    // 用户组ID\n\t\t      var usageCount = 10;    // 使用次数\n\t\t\n\t\t\n\t\t      var options2 = {\n\t\t        lockKeyId,\n\t\t        keyGroupId,\n\t\t        validStartTime,\n\t\t        validEndTime,\n\t\t        usageCount,\n\t\t\n\t\t        type: 1,  // 按内容添加\n\t\t        keyType: 1,   // 密码类型\n\t\t        validTimeMode: 1,   // 0：有效期授权， 1：周期重复时间段授权\n\t\t        key: \"138000\",    // 内容值\n\t\t        dayStartTime: 10 * 60,    // 起始分钟数 \n\t\t        dayEndTime: 18 * 60,    // 结束分钟数\n\t\t        weeks: [0,1,2,3,4,5,6]    // 每周的周二、周四、周五\n\t\t      }\n\t\t\n\t\t      this.plugin.addKey(options2);\n\t\t     \n\t\t  },\n\t\t\n\t\t  // 按照钥匙 ID 进行使能\n\t\t  enableKey:function(value){\n\t\t    \n\t\t      const options = {\n\t\t        mode: 1,\n\t\t        lockKeyId: value,\n\t\t        value: true\n\t\t      }\n\t\t      this.plugin.enableKey(options).then(res => { \n\t\t        console.log(res); this.setData({\n\t\t          currentLog:'钥匙已使能'\n\t\t        })\n\t\t\n\t\t      }).catch(err => { \n\t\t        \n\t\t      })\n\t\t\n\t\t  },\n\t\t  // 按照钥匙 ID 进行禁止\n\t\t  unableKey:function(value){\n\t\t    \n\t\t    const options = {\n\t\t      mode: 1,\n\t\t      lockKeyId: value,\n\t\t      value: false\n\t\t    }\n\t\t    this.plugin.enableKey(options).then(res => { \n\t\t      console.log(res); this.setData({\n\t\t        currentLog:'钥匙已禁止'\n\t\t      })\n\t\t\n\t\t    }).catch(err => { \n\t\t      \n\t\t    })\n\t\t\n\t\t},\n\t\t\n\t\t  deleteKey:function(eee,theIndex){\n\t\t    console.log('删除这个钥匙'+ eee);\n\t\t    \n\t\t\n\t\t\n\t\t        // 按照内容删除：指定卡号或密码的卡片/密码钥匙  myPlugin 重连操作\n\t\t        var options3 = {\n\t\t          mode: 2,\n\t\t          keyType: [1],\n\t\t          key: '138000',\n\t\t        }\n\t\t\n\t\t        this.plugin.removeKey(options3).then(res => { \n\t\t          wx.showToast({\n\t\t            title: '删除成功',\n\t\t          })\n\t\t          var _this=this;\n\t\t          var cus=_this.myKeys;\n\t\t          cus.splice(theIndex,1);\n\t\t          _this.setData({\n\t\t            myKeys:cus,\n\t\t            currentLog:'钥匙已删除'\n\t\t          })\n\t\t}).catch(err => { \n\t\t\n\t\t        })\n\t\t\n\t\t  },\n\t\t  \n\t\t\n\t\t  syncRecord:function(){\n\t\t\n\t\t\n\t\t    this.plugin.synchronizeLockRecord({\n\t\t      offset: 0,\n\t\t      limit: 10\n\t\t    }).then(res => { \n\t\t        wx.navigateTo({\n\t\t          url:'./recordRavInfo?data='+JSON.stringify(res)\n\t\t        })\n\t\t\n\t\t    }).catch(err => { \n\t\t      wx.showToast({\n\t\t        title: '获取记录失败',\n\t\t      })\n\t\t     })\n\t\t  },\n\t\t\n\t\t  //获取信息\n\t\t  getSystemInfo:function(){\n\t\t    this.plugin.readSystemInfo().then(res => { \n\t\t      wx.navigateTo({\n\t\t        url:'./recordRavInfo?data='+JSON.stringify(res)\n\t\t      })\n\t\t     }).catch(err => { \n\t\t\n\t\t     })\n\t\t\n\t\t  },\n\t\t\n\t\t  //获取广播数据\n\t\t  getBroadCast:function(){\n\t\t    this.plugin.getBroadcastData().then(res => {\n\t\t      console.log(\"broadcast data: \", res);\n\t\t      wx.navigateTo({\n\t\t        url:'./recordRavInfo?data='+JSON.stringify(res)\n\t\t      })\n\t\t    }).catch(err => {\n\t\t      console.log(\"broadcast err: \", err);\n\t\t    })\n\t\t\n\t\t  },\n\t\t\n\t\t  //设置酒店房间信息（酒店用）addRawInfo\n\t\t  addHotelRoom:function(){\n\t\t    \tconst options = {\n\t\t      \t  hotelId: 'ab12345a7821',\n\t\t      \t  hotelBuildingId: 2,\n\t\t      \t  hotelFloorId: 10,\n\t\t      \t  hotelRoomId: 20,\n\t\t      \t  hotelSlaveRoomId: 'A',\n\t\t      \t  hotelAES128: '83okh0zBGyoJhYfW',\n\t\t      \t  encryptionSector: 1\n\t\t      \t}\n\t\t      \tthis.plugin.setRoomInfoForHotel(options).then(res => { \n\t\t          this.setData({\n\t\t            currentLog:'设置酒店房间信息成功'\n\t\t          })\n\t\t\n\t\t        } ).catch(err => { \n\t\t          console.log(err);\n\t\t          this.setData({\n\t\t            currentLog:'设置酒店房间信息失败'\n\t\t          })\n\t\t         })\n\t\t      \n\t\t  },\n\t\t\n\t\t  //设置酒店系统信息\n\t\t  setHotelInfo:function(){\n\t\t    const options = {\n\t\t      normallyOpenMode: 1,\n\t\t      \t  volumeEnable: 2,\n\t\t      \t  tongueChoose: 0,\n\t\t      \t  backLockChoose: 1,\n\t\t      \t  motorDirection: 1,\n\t\t      \t  passwordEnable: 1,\n\t\t      \t  tongueDetection: 0,\n\t\t      \t  lockOpenTime: 6,\n\t\t      \t  cardDetectiongSensitivity: 5,\n\t\t      \t  passwordSensitivity: 5,\n\t\t         bleConnectInterval: 2,\n\t\t      \t  setKeyFunction: 1,\n\t\t      \t  lowPowerMotorDriverTimeAdd: 1,\n\t\t      \n\t\t      }\n\t\t      this.plugin.setSystemInfoForHotel(options).then(res => { \n\t\t        this.setData({\n\t\t          currentLog:'设置酒店系统信息成功'\n\t\t        })\n\t\t        wx.navigateTo({\n\t\t          url:'./recordRavInfo?data='+JSON.stringify(res)\n\t\t        })\n\t\t\n\t\t      } ).catch(err => { \n\t\t        console.log(err);\n\t\t        this.setData({\n\t\t          currentLog:'设置酒店系统信息失败'\n\t\t        })\n\t\t       })\n\t\t    \n\t\t},\n\t\t\n\t\t  getRoomInfo:function(){\n\t\t    this.plugin.getRoomInfoForHotel(options).then(res => { \n\t\t      this.setData({\n\t\t        currentLog:'getRoomInfo成功'\n\t\t      })\n\t\t     } ).catch(err => { \n\t\t      this.setData({\n\t\t        currentLog:'getRoomInfo失败'\n\t\t      })\n\t\t      })\n\t\t\n\t\t  },\n\t\t  getHotelSysInfo:function(){\n\t\t    this.plugin.getSystemInfoForHotel(options).then(res => { \n\t\t      this.setData({\n\t\t        currentLog:'getSystemInfoForHotel成功'\n\t\t      })\n\t\t     } ).catch(err => { \n\t\t      this.setData({\n\t\t        currentLog:'getSystemInfoForHotel失败'\n\t\t      })\n\t\t      })\n\t\t\n\t\t  },\n\t\topenBLE(){\n\t\t\tuni.openBluetoothAdapter({\n\t\t\t  success(res) {\n\t\t\t    console.log('openBluetoothAdapter'+res)\n\t\t\t  }\n\t\t\t})\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tuni.startBluetoothDevicesDiscovery({\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('startBluetoothDevicesDiscovery'+res)\n\t\t\t\t}\n\t\t\t})\n\t\t\t\n\t\t\tvar _this=this;\n\t\t\t\n\t\t\tuni.onBluetoothDeviceFound(function(eeeee){\n\t\t\t\t// console.log(eeeee)\n\t\t\t\t_this.bleDeviceList.splice(1,0,eeeee.devices[0]);\n\t\t\t\tconsole.log(_this.bleDeviceList)\n\t\t\t})\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t// console.log('openBLEopenBLEopenBLEopenBLEopenBLEopenBLEopenBLE@@@@@@@');\n\t\t\t\n\t\t\t// 1.引用插件\n\t\t\t// const Plugin = requirePlugin('BLELockSDK');\n\t\t\t//   // 3.初始化插件\n\t\t\t//     const myPlugin = new Plugin(options)\n\t\t\t  \n\t\t\t//     // 4.监听ready事件\n\t\t\t//     myPlugin.on('ready', () => {\n\t\t\t  \n\t\t\t//       // 5.调用API\n\t\t\t//       // 插件所有的API都需要在插件响应ready事件之后才可以调用成功\n\t\t\t//       myPlugin\n\t\t\t//       .openLock()\n\t\t\t//       .then(res => {\n\t\t\t//         // 成功时调用\n\t\t\t//         // do something\n\t\t\t\t\t\n\t\t\t// \t\tconsole.log(res);\n\t\t\t\t\t\n\t\t\t//       })\n\t\t\t//       .catch(err => {\n\t\t\t// \t\t  console.log(err);\n\t\t\t//         // 失败时调用\n\t\t\t//         // debug\n\t\t\t//       })\n\t\t\t//     })\n\t\t}\n\t\t\n\t\t \n\t}\n}\n","import mod from \"-!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1590805417110\n      var cssReload = require(\"/Applications/HBuilderX 2.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}